(this["webpackJsonpcard-editor-react"]=this["webpackJsonpcard-editor-react"]||[]).push([[0],{10:function(e,a,t){e.exports={root:"App_root__2q3oI",root__section:"App_root__section__1e4n_"}},11:function(e,a,t){e.exports={userInfo:"userInfo_userInfo__19G6_",userInfo__photo:"userInfo_userInfo__photo__N60hs",userInfo__data:"userInfo_userInfo__data__3SShx",userInfo__name:"userInfo_userInfo__name__3IhXa",userInfo__job:"userInfo_userInfo__job__3-pzT",userInfo__btnEdit:"userInfo_userInfo__btnEdit__3IePE",userInfo__button:"userInfo_userInfo__button__21zgC"}},12:function(e,a,t){e.exports={placeCard:"placeCard_placeCard__3hTgQ",placeCard__image:"placeCard_placeCard__image__3mWy4",placeCard__deleteIcon:"placeCard_placeCard__deleteIcon__3L8o6",placeCard__description:"placeCard_placeCard__description__262yF",placeCard__name:"placeCard_placeCard__name__2J-7P",placeCard__likeIcon:"placeCard_placeCard__likeIcon__38yU7",placeCard__likeIconLiked:"placeCard_placeCard__likeIconLiked__31LQ3",placeCard__likeNumber:"placeCard_placeCard__likeNumber__274EM"}},15:function(e,a,t){e.exports=t.p+"static/media/close.a3e3d9bd.svg"},17:function(e,a,t){e.exports={button:"button_button__2K9y5"}},37:function(e,a,t){e.exports={header:"header_header__29J7q"}},38:function(e,a,t){e.exports={logo:"logo_logo__1fFMn"}},39:function(e,a,t){e.exports=t.p+"static/media/logo.9d0e3a93.svg"},4:function(e,a,t){e.exports={popup:"popup_popup__UQNqW",popup__content:"popup_popup__content__1N2O3",popup__image:"popup_popup__image__3fgVk",popup__contentImage:"popup_popup__contentImage__D_Iet",popup__close:"popup_popup__close__1F-4u",popup__title:"popup_popup__title__EdVIv",popup__form:"popup_popup__form__2YY4Q",popup__input:"popup_popup__input__R8ZUt",popup__button:"popup_popup__button__qPSp-",popup__button_user:"popup_popup__button_user__3KtTp"}},40:function(e,a,t){e.exports={profile:"profile_profile__2Gl8U"}},41:function(e,a,t){e.exports={placesList:"placesList_placesList__1cozs"}},46:function(e,a,t){e.exports=t(77)},57:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(19),c=t.n(r),p=t(5),u=(t(57),t(10)),s=t.n(u),l=t(37),_=t.n(l),i=t(38),d=t.n(i),m=t(39),f=t.n(m);var E=function(){return o.a.createElement("img",{className:d.a.logo,src:f.a,alt:"mesto logo"})};var b=function(){return o.a.createElement("header",{className:[_.a.header,s.a.root__section].join(" ")},o.a.createElement(E,null))},h=t(8),O=t.n(h),v=t(40),N=t.n(v),I=t(11),y=t.n(I),g="edit-submit",P="add-card-submit",j="open-popup-card",C="open-popup-edit",k=t(17),x=t.n(k),U=function(e){return{type:"OPEN_EDIT_POPUP",payload:e.payload}},w=function(e){return{type:"OPEN_ADD_CARD_POPUP",payload:e}},D=function(e){return{type:"OPEN_IMAGE_POPUP",payload:e.payload}},L=function(e){var a=e.type,t=e.className,n=Object(p.b)();switch(a){case j:return o.a.createElement("button",{onClick:function(){return n(w(!0))},className:O()(x.a.button,t)},"+");case C:return o.a.createElement("button",{onClick:function(){return n(U({type:"OPEN_EDIT_POPUP",payload:!0}))},className:t},"Edit")}},S=t(15),A=t.n(S),T=t(4),R=t.n(T),G=function(e){var a=e.type,t=e.className;Object(p.b)();switch(a){case g:return o.a.createElement("button",{type:"submit",className:O()(x.a.button,t)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");case P:return o.a.createElement("button",{className:O()(x.a.button,t)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}return o.a.createElement("div",null)},M=function(){var e=Object(p.b)();Object(n.useEffect)((function(){document.addEventListener("keydown",(function(a){"Escape"===String(a.key)&&e(w(!1))}))}),[]);return o.a.createElement("div",{id:"addUserPopup",className:R.a.popup},o.a.createElement("div",{className:R.a.popup__content},o.a.createElement("img",{onClick:function(){return e(w(!1))},src:A.a,alt:"close",className:R.a.popup__close}),o.a.createElement("h3",{className:R.a.popup__title},"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e"),o.a.createElement("form",{className:R.a.popup__form,noValidate:!0,name:"new"},o.a.createElement("div",{className:"input-container "},o.a.createElement("input",{id:"title",type:"text",minLength:"2",maxLength:"30",required:!0,name:"title",className:R.a.popup__input,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),o.a.createElement("span",{id:"title-error",className:"error"})),o.a.createElement("div",{className:"input-container "},o.a.createElement("input",{id:"url",type:"url",required:!0,name:"link",className:R.a.popup__input,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"}),o.a.createElement("span",{id:"url-error",className:"error"})),o.a.createElement(G,{type:P,className:O()(R.a.popup__button,R.a.popup__button_user)}))))},q=function(e){var a=e.popupStore;return o.a.createElement("div",{className:y.a.userInfo},o.a.createElement("div",{className:y.a.userInfo__photo}),o.a.createElement("div",{className:y.a.userInfo__data},o.a.createElement("h1",{className:y.a.userInfo__name},"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440"),o.a.createElement("p",{className:y.a.userInfo__job},"Frontend"),o.a.createElement(L,{type:C,className:y.a.userInfo__btnEdit})),o.a.createElement(L,{type:j,className:y.a.userInfo__button}),a.openAddCard&&o.a.createElement(M,null))},z=t(6),V=t(23),F=function(){var e=Object(p.b)();Object(n.useEffect)((function(){document.addEventListener("keydown",(function(a){"Escape"===String(a.key)&&e(U({type:"OPEN_EDIT_POPUP",payload:!1}))}))}),[]);var a=Object(n.useState)({name:"",about:""}),t=Object(V.a)(a,2),r=t[0],c=t[1];return o.a.createElement("div",{id:"addUserPopup",className:R.a.popup},o.a.createElement("div",{className:R.a.popup__content},o.a.createElement("img",{className:R.a.popup__close,src:A.a,alt:"close",onClick:function(){return e(U({type:"OPEN_EDIT_POPUP",payload:!1}))}}),o.a.createElement("h3",{className:R.a.popup__title},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),o.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e({type:"EDIT_USER",payload:{type:"EDIT_USER",payload:r}.payload}),e({type:"PATCH_USER"})},className:R.a.popup__form,noValidate:!0,name:"new"},o.a.createElement("div",{className:"input-container "},o.a.createElement("input",{onChange:function(e){return c(Object(z.a)(Object(z.a)({},r),{},{name:e.target.value}))},id:"name",type:"text",minLength:"2",maxLength:"30",name:"name",required:!0,className:R.a.popup__input,placeholder:"\u0418\u043c\u044f"}),o.a.createElement("span",{id:"name-error",className:R.a.error}),o.a.createElement("div",{className:"input-container "},o.a.createElement("input",{onChange:function(e){return c(Object(z.a)(Object(z.a)({},r),{},{about:e.target.value}))},id:"job",type:"text",minLength:"2",maxLength:"30",name:"job",required:!0,className:R.a.popup__input,placeholder:"\u041e \u0441\u0435\u0431\u0435"}),o.a.createElement("span",{id:"job-error",className:R.a.error})),o.a.createElement(G,{type:g,className:"".concat(R.a.popup__button," ").concat(R.a.popup__button_user)})))))},J=function(){var e=Object(p.c)((function(e){return e.popup}));return o.a.createElement("div",{className:O()(N.a.profile,s.a.root__section)},o.a.createElement(q,{popupStore:e}),e.openEdit&&o.a.createElement(F,null))},Q=t(41),W=t.n(Q),X=t(12),B=t.n(X);var H=function(e){var a=e.item,t=e.openPopupImage;return o.a.createElement("div",{className:B.a.placeCard},o.a.createElement("div",{onClick:function(e){return t(a)},id:"pic",className:B.a.placeCard__image,style:{backgroundImage:"url(".concat(a.link,")")}},o.a.createElement("button",{className:B.a.placeCard__deleteIcon})),o.a.createElement("div",{className:B.a.placeCard__description},o.a.createElement("h3",{className:B.a.placeCard__name},a.name),o.a.createElement("div",null,o.a.createElement("button",{className:B.a.placeCard__likeIcon}),o.a.createElement("p",{className:B.a.placeCard__likeNumber},a.likes.length))))},K=t(42),Y=t(43),Z=(new(function(){function e(a){Object(K.a)(this,e),this.options=a}return Object(Y.a)(e,[{key:"getUserInfo",value:function(){return fetch("".concat(this.options.baseUrl,"/users/me"),{method:"GET",headers:{authorization:"f19dbf25-1050-4e87-9f03-ebd68dde2c37","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.options.baseUrl,"/cards"),{method:"GET",headers:{authorization:"f19dbf25-1050-4e87-9f03-ebd68dde2c37","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({baseUrl:"https://nomoreparties.co/cohort11",headers:{authorization:"f19dbf25-1050-4e87-9f03-ebd68dde2c37","Content-Type":"application/json"}}),function(e){var a=e.itemLink,t=Object(p.b)();Object(n.useEffect)((function(){document.addEventListener("keydown",(function(e){"Escape"===String(e.key)&&t(D({type:"OPEN_IMAGE_POPUP",payload:!1}))}))}),[]);return o.a.createElement("div",{id:"imagePopup",className:R.a.popup},o.a.createElement("div",{className:R.a.popup__contentImage},o.a.createElement("img",{onClick:function(){t({type:"OPEN_IMAGE_POPUP",payload:!1})},src:A.a,alt:"close",className:R.a.popup__close}),o.a.createElement("img",{src:a,className:R.a.popup__image,alt:""})))});var $=function(){var e=Object(p.b)(),a=Object(p.c)((function(e){return e.cards.items})),t=Object(p.c)((function(e){return e.popup})),r=Object(n.useState)(""),c=Object(V.a)(r,2),u=c[0],l=c[1],_=function(a){l(a.link),e(D({type:"OPEN_IMAGE_POPUP",payload:!0}))};return o.a.createElement("div",{className:[W.a.placesList,s.a.root__section].join(" ")},a.map((function(e){return o.a.createElement(H,{openPopupImage:_,item:e})})),t.openImage&&o.a.createElement(Z,{itemLink:u}))},ee=t(22),ae=t.n(ee);var te=function(){return o.a.createElement("div",{className:s.a.root},o.a.createElement(b,null),o.a.createElement(J,null),o.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=t(9),oe={openEdit:!1,openAddCard:!1,openImage:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_EDIT_POPUP":return Object(z.a)(Object(z.a)({},e),{},{openEdit:a.payload});case"OPEN_ADD_CARD_POPUP":return Object(z.a)(Object(z.a)({},e),{},{openAddCard:a.payload});case"OPEN_IMAGE_POPUP":return Object(z.a)(Object(z.a)({},e),{},{openImage:a.payload});default:return e}},ce={items:[]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_CARDS":return Object(z.a)(Object(z.a)({},e),{},{items:a.payload});default:return e}},ue={user:{name:"",about:""}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(console.log(a),a.type){case"EDIT_USER":return Object(z.a)(Object(z.a)({},e),{},{user:{name:a.payload.name,about:a.payload.about}});default:return e}},le=t(44),_e=t(13),ie=t.n(_e),de=t(45),me=t(14),fe=ie.a.mark(Ne),Ee=ie.a.mark(Ie),be=ie.a.mark(ye),he="https://nomoreparties.co/cohort11",Oe={headers:{Authorization:"f19dbf25-1050-4e87-9f03-ebd68dde2c37"}},ve=function(){return ae.a.get("".concat(he,"/cards"),Oe)};function Ne(e){var a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(me.b)(ve);case 3:return a=e.sent,e.next=6,Object(me.c)({type:"LOAD_CARDS",payload:Object(de.a)(a.data)});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),fe,null,[[0,8]])}function Ie(e){var a,t,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(me.d)();case 3:return a=e.sent,t=a.user,e.next=7,Object(me.b)((o=t.user,ae.a.patch("".concat(he,"/users/me"),o,Oe)));case 7:n=e.sent,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}var o}),Ee,null,[[0,11]])}function ye(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)("PATCH_USER",Ie);case 2:return e.next=4,Object(me.a)([Ne()]);case 4:case"end":return e.stop()}}),be)}var ge=Object(le.a)(),Pe=Object(ne.c)({popup:re,cards:pe,user:se}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.d,Ce=Object(ne.e)(Pe,je(Object(ne.a)(ge)));ge.run(ye);var ke=Ce;c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p.a,{store:ke},o.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.d7108867.chunk.js.map